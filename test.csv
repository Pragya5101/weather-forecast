"Test ID","Title","Desc","Detailed Steps","Scenario"
"LOS-MIS-001","Verify presence of Referrals page elements in Miscellaneous component","Validates that key interactive elements for the Referrals tab rendered by Miscellaneous.jsx and ReferralTable component are present and visible. This test ensures all critical UI components for referrals functionality are rendered correctly on page load.","1. Verify [data-testid='miscellaneous-container'] is visible<br>2. Verify [data-testid='tabs-container'] is visible<br>3. Verify [data-testid='referrals-tab'] is visible<br>4. Verify [data-testid='referral-table-container'] is visible<br>5. Verify [data-testid='referral-table'] is visible<br>6. Verify [data-testid='add-referral-button'] is visible<br>7. Assert all referral-related elements are visible using expect(element).toBeVisible()","Positive"
"LOS-MIS-002","Validate search button disabled state until valid mobile number entered","Ensures the search button remains disabled until a valid 10-digit mobile number is entered. This test validates input validation and button state management.","1. Open add referral row by clicking [data-testid='add-referral-button']<br>2. Verify [data-testid='mobile-search-button'] is visible<br>3. Verify [data-testid='mobile-search-button'] is disabled initially<br>4. Fill [data-testid='mobile-search-input'] with '123' (invalid length)<br>5. Verify [data-testid='mobile-search-button'] remains disabled<br>6. Fill [data-testid='mobile-search-input'] with '1234567890' (valid 10 digits)<br>7. Verify [data-testid='mobile-search-button'] becomes enabled<br>8. Assert button state changes correctly based on input validation","Positive"
"LOS-MIS-003","Search referrals by existing referrer mobile number and select result to populate form","User searches for a referrer by mobile number '9999999999'. The search results display in format 'abc - 9999999999' (name - mobile with space and dash). Clicking on the result populates the referral form fields and displays data correctly in table columns.","1. Click [data-testid='add-referral-button'] to open the add referral row<br>2. Wait for [data-testid='mobile-search-input'] to be visible<br>3. Fill [data-testid='mobile-search-input'] with value '9999999999'<br>4. Verify [data-testid='mobile-search-button'] is enabled<br>5. Click [data-testid='mobile-search-button']<br>6. Wait for search results popover to appear (timeout: 5000ms)<br>7. Verify search results are displayed in format 'name - mobile' (e.g., 'abc - 9999999999')<br>8. Locate and click on the search result item containing '9999999999'<br>9. Verify popover closes after selection<br>10. Verify [data-testid='mobile-search-input'] is populated with '9999999999'<br>11. Verify referrer name field is populated with the name from search result (extracted from 'name - mobile' format)<br>12. Verify referrer type (person type) is populated in the form row<br>13. Verify referral form row displays: mobile in first column, person type in second column, name in third column<br>14. Assert all form fields and table columns are populated correctly from the selected search result","Positive"
"LOS-MIS-004","Handle error toast when referrer not found with searched mobile number","Validates error handling when searching for a referrer with a mobile number that does not exist in the system. An appropriate error toast should be displayed with the specific mobile number in the message.","1. Open add referral row by clicking [data-testid='add-referral-button']<br>2. Wait for [data-testid='mobile-search-input'] to be visible<br>3. Fill [data-testid='mobile-search-input'] with value '1252535467'<br>4. Verify [data-testid='mobile-search-button'] is enabled<br>5. Click [data-testid='mobile-search-button']<br>6. Wait for error toast to appear (timeout: 5000ms)<br>7. Verify error toast is visible using locator('.Toastify__toast--error')<br>8. Verify toast message contains 'Referrer not found with this mobile: 1252535467'<br>9. Verify toast has id 'miscellaneous-referrer-search-error'<br>10. Verify no search results popover appears<br>11. Verify [data-testid='mobile-search-input'] retains the entered value<br>12. Assert error handling works correctly for non-existent referrer","Negative"

"LOS-MIS-005","Click add referral button to open referral form","Validates that clicking the add-referral-button opens the referral form row and makes all form fields accessible. Tests the button's functionality and form visibility toggle.","1. Verify [data-testid='add-referral-button'] is visible<br>2. Verify [data-testid='add-referral-button'] is enabled<br>3. Click [data-testid='add-referral-button']<br>4. Wait for form to open (timeout: 1000ms)<br>5. Verify [data-testid='mobile-search-input'] is visible<br>6. Verify [data-testid='referral-type-select'] is visible<br>7. Verify [data-testid='add-referrer-button'] is visible<br>8. Verify [data-testid='save-referral-button'] is visible and disabled<br>9. Verify [data-testid='add-referral-button'] is hidden when form is open","Positive"
"LOS-MIS-006","Open Add New Referrer popover and verify fields","Validates that clicking the add-referrer-button opens a popover with all required fields (Type, Name, Mobile) and the Create button. Tests popover functionality and field visibility.","1. Ensure add referral row is open<br>2. Verify [data-testid='add-referrer-button'] is visible and enabled<br>3. Click [data-testid='add-referrer-button']<br>4. Wait for popover to open (timeout: 5000ms)<br>5. Verify [data-testid='add-referrer-popover-content'] is visible<br>6. Verify [data-testid='referrer-type-select'] is visible<br>7. Verify [data-testid='referrer-name-input'] is visible<br>8. Verify [data-testid='referrer-mobile-input'] is visible<br>9. Verify [data-testid='create-referrer-button'] is visible and disabled initially<br>10. Assert all popover fields are present","Positive"
"LOS-MIS-007","Validate Create Referrer button enablement after filling all fields","Ensures the Create Referrer button becomes enabled only when all required fields (Type, Name, and 10-digit Mobile) are filled with valid values. Tests form validation logic.","1. Open add referral row<br>2. Click [data-testid='add-referrer-button'] to open popover<br>3. Verify [data-testid='create-referrer-button'] is disabled initially<br>4. Click [data-testid='referrer-type-select'] and select first available option<br>5. Fill [data-testid='referrer-name-input'] with 'John Doe'<br>6. Fill [data-testid='referrer-mobile-input'] with '9876543210'<br>7. Wait for validation to complete (timeout: 1000ms)<br>8. Verify [data-testid='create-referrer-button'] becomes enabled<br>9. Assert button state changes based on field validation","Positive"
"LOS-MIS-008","Create new referrer with valid data","Validates the complete flow of creating a new referrer. After successful creation, the referrer data should populate the referral form fields and the popover should close.","1. Open add referral row<br>2. Click [data-testid='add-referrer-button'] to open popover<br>3. Select a valid type from [data-testid='referrer-type-select']<br>4. Fill [data-testid='referrer-name-input'] with a unique name<br>5. Fill [data-testid='referrer-mobile-input'] with a unique 10-digit mobile number<br>6. Verify [data-testid='create-referrer-button'] is enabled<br>7. Click [data-testid='create-referrer-button']<br>8. Wait for API call to complete (timeout: 5000ms)<br>9. Verify success toast is visible using locator('.Toastify__toast--success')<br>10. Verify popover is closed<br>11. Verify referral form fields are populated with created referrer data<br>12. Assert referrer creation was successful","Positive"
"LOS-MIS-009","Validate Save Referral button disabled state until all fields valid","Ensures the Save Referral button remains disabled until all required fields (mobile, referrer type, referral type, and referrer name) are filled with valid values. Tests referral form validation.","1. Open add referral row<br>2. Verify [data-testid='save-referral-button'] is visible and disabled<br>3. Fill [data-testid='mobile-search-input'] with valid mobile (or select from search)<br>4. Verify [data-testid='save-referral-button'] remains disabled (referrer type missing)<br>5. Select a referrer type (via search result or create new referrer)<br>6. Verify [data-testid='save-referral-button'] remains disabled (referral type may be default)<br>7. Select a referral type from [data-testid='referral-type-select']<br>8. Verify referrer name is populated<br>9. Verify [data-testid='save-referral-button'] becomes enabled<br>10. Assert button enablement follows validation rules","Positive"
"LOS-MIS-010","Create new referral with valid data and verify display","Validates the complete flow of creating a new referral. After successful creation, the referral should appear in the table with all columns populated correctly, and form fields should reset.","1. Open add referral row<br>2. Search for or create a referrer (complete steps from LOS-MIS-003 or LOS-MIS-008)<br>3. Verify referrer data is populated in form (name, mobile, type)<br>4. Select referral type from [data-testid='referral-type-select']<br>5. Verify [data-testid='save-referral-button'] is enabled<br>6. Click [data-testid='save-referral-button']<br>7. Wait for API call to complete (timeout: 5000ms)<br>8. Verify success toast is visible with message 'Referral created successfully'<br>9. Verify referral appears in [data-testid='referral-table']<br>10. Verify new referral row displays: mobile, person type, name, referral type<br>11. Verify [data-testid='delete-referral-button'] is visible in the new row<br>12. Verify form fields are reset (mobile cleared, types reset to defaults)<br>13. Verify add referral row is closed<br>14. Assert referral creation and display are successful","Positive"
"LOS-MIS-011","Verify referral data displayed in table columns","Validates that all referral data is correctly displayed in the respective table columns (Mobile, Person type, Name, Referral Type). Tests data rendering and column alignment.","1. Ensure at least one referral exists in the table<br>2. Verify [data-testid='referral-table'] is visible<br>3. Locate the first referral row in the table<br>4. Verify the row contains mobile number in first column<br>5. Verify the row contains person type (referrer type) in second column<br>6. Verify the row contains referrer name in third column<br>7. Verify the row contains referral type in fourth column<br>8. Verify [data-testid='delete-referral-button'] is present in the row<br>9. Assert all columns display correct data","Positive"
"LOS-MIS-012","Delete referral and verify removal from table","Validates the deletion flow for a referral. After successful deletion, the referral should be removed from the table and a success toast should be displayed.","1. Ensure at least one referral exists in the table<br>2. Locate a referral row in [data-testid='referral-table']<br>3. Note the referral details (mobile, name) for verification<br>4. Click [data-testid='delete-referral-button'] in that row<br>5. Wait for API call to complete (timeout: 5000ms)<br>6. Verify success toast is visible with message 'Referral deleted successfully'<br>7. Verify the deleted referral row is no longer visible in the table<br>8. Verify other referrals (if any) remain in the table<br>9. Assert deletion was successful and table updated correctly","Positive"
"LOS-MIS-013","Handle error toast when referrer search fails","Validates error handling when the referrer search API call fails. An appropriate error toast should be displayed with the error message from the API response.","1. Open add referral row<br>2. Fill [data-testid='mobile-search-input'] with a valid 10-digit number<br>3. Click [data-testid='mobile-search-button']<br>4. Mock/force API error for searchReferrer call<br>5. Wait for error toast to appear (timeout: 5000ms)<br>6. Verify error toast is visible using locator('.Toastify__toast--error')<br>7. Verify toast message contains error from API or default 'No referrer found'<br>8. Verify toast has id 'miscellaneous-referrer-search-error'<br>9. Assert error handling works correctly","Negative"
"LOS-MIS-014","Handle error toast when create referrer fails","Validates error handling when the create referrer API call fails. An appropriate error toast should be displayed and the popover should remain open for retry.","1. Open add referral row<br>2. Click [data-testid='add-referrer-button'] to open popover<br>3. Fill all required fields with valid data<br>4. Click [data-testid='create-referrer-button']<br>5. Mock/force API error for createReferrer call<br>6. Wait for error toast to appear (timeout: 5000ms)<br>7. Verify error toast is visible with id 'miscellaneous-referrer-add-error'<br>8. Verify popover remains open<br>9. Verify form fields retain entered values<br>10. Verify [data-testid='create-referrer-button'] is re-enabled<br>11. Assert error handling allows retry","Negative"
"LOS-MIS-015","Handle error toast when create referral fails","Validates error handling when the create referral API call fails. An appropriate error toast should be displayed and the form should remain in its current state.","1. Complete referrer search/creation flow<br>2. Fill all required referral form fields<br>3. Click [data-testid='save-referral-button']<br>4. Mock/force API error for createReferral call<br>5. Wait for error toast to appear (timeout: 5000ms)<br>6. Verify error toast is visible with id 'miscellaneous-referral-create-error'<br>7. Verify form remains open with data intact<br>8. Verify [data-testid='save-referral-button'] is re-enabled<br>9. Assert error handling allows retry","Negative"
"LOS-MIS-016","Handle error toast when delete referral fails","Validates error handling when the delete referral API call fails. An appropriate error toast should be displayed and the referral should remain in the table.","1. Ensure at least one referral exists in the table<br>2. Click [data-testid='delete-referral-button'] on a referral row<br>3. Mock/force API error for deleteReferral call<br>4. Wait for error toast to appear (timeout: 5000ms)<br>5. Verify error toast is visible with id 'miscellaneous-referral-delete-error'<br>6. Verify the referral row remains in the table<br>7. Assert error handling prevents accidental data loss","Negative"
"LOS-MIS-017","Verify loading state during API operations","Validates that loading indicators are displayed during API operations (search, create referrer, create referral, delete). Tests user feedback during async operations.","1. Open add referral row<br>2. Fill [data-testid='mobile-search-input'] with valid mobile<br>3. Click [data-testid='mobile-search-button']<br>4. Verify loading spinner/indicator is visible during API call<br>5. Wait for API call to complete<br>6. Verify loading indicator disappears<br>7. Repeat for create referrer operation<br>8. Repeat for create referral operation<br>9. Repeat for delete referral operation<br>10. Assert loading states are properly managed","Positive"
"LOS-MIS-018","Verify referrals tab is active by default","Validates that when the Miscellaneous page loads, the Referrals tab is active by default (activeTab = 0) and the ReferralTable is visible. This ensures users land on the referrals functionality immediately.","1. Navigate to Miscellaneous page (completed in beforeAll)<br>2. Verify [data-testid='referrals-tab'] is visible<br>3. Verify [data-testid='referral-table-container'] is visible<br>4. Verify [data-testid='referral-table'] is visible<br>5. Verify referrals tab has active styling (border-[#09A480] and text-[#09A480])<br>6. Verify [data-testid='add-referral-button'] is visible<br>7. Assert referrals tab is active by default and referral table is displayed","Positive"
"LOS-MIS-019","Select referrer from search results dropdown","Validates that when search results are displayed, clicking on a result populates the referral form fields with the selected referrer's data. Tests the search result selection functionality.","1. Open add referral row<br>2. Fill [data-testid='mobile-search-input'] with a mobile number that has existing referrer<br>3. Click [data-testid='mobile-search-button']<br>4. Wait for search results popover/dropdown to appear<br>5. Verify search results are displayed with referrer name and mobile<br>6. Click on a search result item<br>7. Verify popover/dropdown closes<br>8. Verify [data-testid='mobile-search-input'] is populated with selected mobile<br>9. Verify referrer name field is populated<br>10. Verify referrer type is populated<br>11. Assert form fields are correctly populated from selection","Positive"
"LOS-MIS-020","Validate input restrictions on mobile and name fields","Validates that mobile input only accepts digits (max 10) and name input only accepts characters. Tests input validation and character restrictions.","1. Open add referral row<br>2. Open add referrer popover<br>3. Fill [data-testid='referrer-mobile-input'] with 'abc123'<br>4. Verify only digits are accepted (should show '123' or empty)<br>5. Fill [data-testid='referrer-mobile-input'] with '123456789012345' (more than 10 digits)<br>6. Verify input is limited to 10 digits<br>7. Fill [data-testid='referrer-name-input'] with 'John123'<br>8. Verify only characters are accepted (should show 'John' or handle appropriately)<br>9. Assert input restrictions work correctly","Positive"

